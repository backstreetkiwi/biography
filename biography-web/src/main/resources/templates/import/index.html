<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Biography</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link th:href="@{/styles/main.css}" href="../styles/main.css"
	rel="stylesheet" type="text/css" />
</head>
<body>
	<div th:replace="fragments/page :: header"></div>
	<div th:replace="fragments/page :: menu"></div>
	<div class="main-content">
		<div class="import-upload">
			<form method="POST" enctype="multipart/form-data" th:action="@{/import/add}">
				<table>
					<tr>
						<td>Image(s) to upload:</td>
						<td><input type="file" name="file" multiple="multiple"/></td>
					</tr>
					<tr>
						<td></td>
						<td><input type="submit" value="upload" /></td>
					</tr>
				</table>
			</form>
		</div>
		<div class="import-job">
			<div th:if="${importJob.running}">
				<span>IMPORT JOB IS RUNNING ...</span>
			</div>
			<div th:unless="${importJob.running}">
				<form method="POST" th:action="@{/import/clear}">
					<input type="submit" value="Reset import job (remove imported, clear data)" class="submit-clearjob"/>
				</form>
			</div>
			<div th:unless="${importJob.running}">
				<form method="POST" th:action="@{/import/start}">
					<input type="submit" value="Start import job)" class="submit-startjob"/>
				</form>
			</div>
		</div>
		<form method="POST" th:action="@{/import/save}">
			<div class="import-job">
				<div th:unless="${importJob.running}">
						<input type="submit" value="Save import job" class="submit-savejob"/>
				</div>
				<div th:unless="${importJob.running}">
						<input type="reset" value="Reset changed data" class="submit-savejob"/>
				</div>
			</div>
			<div class="import-table">
				<table>
					<tr>
						<th>File</th>
						<th>Type</th>
						<th>EXIF?</th>
						<th>Datetime original</th>
						<th></th>
						<th>Import Result</th>
						<th>Albumname</th>
						<th>Description</th>
					</tr>
					<tr th:each="file,iter : ${importJob.importFiles}">
						<td th:text="${file.name}"></td>
						<td th:text="${importJob.getMediaFileType(file)}"></td>
						<td th:text="${importJob.getExifData(file)}? 'YES' : 'NO'"></td>
						<td><input type="text" th:name="${file.name + '-datetime-original'}" th:value="${importJob.getDateTimeOriginal(file)}"></td>
						<td><input type="checkbox" th:name="${file.name + '-overwrite-datetime-original'}" /></td>
						<td th:text="${importJob.getImportResult(file)}"></td>
						<td><input type="text" th:name="${file.name + '-album'}" th:value="${importJob.getAlbum(file)}" class="albumname"/></td>
						<td><input type="text" th:name="${file.name + '-description'}" th:value="${importJob.getDescription(file)}" class="description"/></td>
					</tr>
				</table>
			</div>
		</form>
	</div>

</body>

</html>